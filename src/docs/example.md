# Примеры запросов

На данной странице представлены примеры запросов по некоторым методам в формате JSON.

## [PostOrder](/investAPI/orders/#postorder) – Метод выставления заявок

Задача: выставить лимитную заявку на покупку инструмента.
```
{
"figi": "BBG000000001", \\ FIGI инструмента по которому выставляется заявка. В данном случае используем Тинькофф Вечный портфель RUB.
"quantity": "1", \\ количество лотов инструмента
"price": { \\ цена, по которой будет выставлена заявка
"nano": 600000000,
"units": "5"
},
"direction": "ORDER_DIRECTION_BUY", \\ Направление заявки, в данном случае покупка
"accountId": "XXXXXXXXXX", \\ Номер счета с которого будет выставлена заявка
"orderType": "ORDER_TYPE_LIMIT", \\ Тип заявки, в данном случае лимитная.
"orderId": "string" \\ ключ идемпотентности.
}
```
## [ReplaceOrder](/investAPI/orders/#replaceorder) – Метод изменения выставленной заявки

Задача: изменить выставленную ранее заявку.
```
{
"accountId": "XXXXXXXXXX", \\ номер счета с которого выставлена заявка
"orderId": "XXXXXXXXX", \\ номер выставленной заявки
"idempotencyKey": "string", \\ ключ идемпотентности
"quantity": "4", \\ новое количество лотов
"price": { \\ новая цена заявки
"nano": 700000000,
"units": "5"
}
}
```
## [PostStopOrder](/investAPI/stoporders/#poststoporder) – Метод выставления стоп-заявок

Задача: выставить лимитную заявку на покупку инструмента.

```
{
"figi": "BBG000000001", \\ FIGI инструмента по которому выставляется заявка. В данном случае используем Тинькофф Вечный портфель RUB
"quantity": "2", \\ количество лотов инструмента
"price": { \\ цена, по которой будет выставлена заявка
"nano": 600000000,
"units": "5"
},
"stopPrice": { \\ стоп-цена, она же цена активации заявки. Т.е. когда цена инструмента на бирже достигнет установленной стоп-цены, будет выставлена заявка с указанными параметрами
"nano": 700000000,
"units": "5"
},
"direction": "STOP_ORDER_DIRECTION_BUY", \\ Направление сделки, в данном случае покупка.
"accountId": "XXXXXXXXXX", \\ номер счета с которого будет выставлена заявка
"expirationType": "STOP_ORDER_EXPIRATION_TYPE_GOOD_TILL_CANCEL", \\ срок действия заявки. В данном случае пока не будет отменена
"stopOrderType": "STOP_ORDER_TYPE_STOP_LIMIT" \\ Тип стоп заявки. В данном случае стоп-лимит.
}
```



## [GetOperationsByCursor](/investAPI/operations/#getoperationsbycursor) – Метод получения операций по счету с курсором

Задача: получить список операций по счету, за год с постраничным выводом.
```
{
"accountId": "XXXXXXXXX",  \\ номер счета, единственный обязательный параметр в этом методе. Можно указать только его и получить первые 100 операции по счету
"instrumentId": "BBG000000001", \\ параметр в котором вы можете указать figi или instrument_uid инструмента, по которому хотите получить операции. В данном случае используем Тинькофф Вечный портфель RUB
"from": "2021-11-07T12:49:35.896Z", \\ дата начала периода, с которого отображаются операции.
"to": "2022-11-07T12:49:35.896Z", \\ дата окончания периода, по который отображаются операции.
"limit": 1000, \\ лимит вывода количества операций. 1000- максимальный лимит. По-умолчанию передается limit=100
"operationTypes": [
"OPERATION_TYPE_BUY" \\ Тип операций – покупка.
],
"state": "OPERATION_STATE_EXECUTED" \\ Статус операций, в данном случае исполненные
}
```
## [GetOperations](/investAPI/operations/#getoperations) – Метод получения операций по счету

Задача: получить список операций по счету, за год.
```
{
"accountId": "XXXXXXXXXX",  \\ номер счета, единственный обязательный параметр в этом методе. Можно указать только его и получить первые 100 операции по счету
"figi": "BBG000000001", \\ параметр в котором вы можете указать figi инструмента, по которому хотите получить операции. В данном случае используем Тинькофф Вечный портфель RUB
"from": "2021-11-07T12:49:35.896Z", \\ дата начала периода, с которого отображаются операции.
"to": "2022-11-07T12:49:35.896Z", \\ дата окончания периода, по который отображаются операции.
"state": "OPERATION_STATE_EXECUTED" \\ Статус операций, в данном случае исполненные
}
```
## [GetCandles](/investAPI/marketdata/#getcandles) – Метод получения свечей

Задача: получить минутные свечи за день.
```
{
"from": "2022-11-08T05:47:40.866Z", \\ Дата начала периода запрошенных свечей
"to": "2022-11-09T05:47:40.866Z", \\ Дата окончания периода запрошенных свечей
"interval": "CANDLE_INTERVAL_1MIN", \\Интервал свечей
"instrumentId": "BBG000000001"  \\ параметр в котором вы можете указать figi или instrument_uid инструмента, по которому хотите получить операции.  В данном случае используем Тинькофф Вечный портфель RUB
}
```

