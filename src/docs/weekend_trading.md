# Особенности торговли в выходные дни и на внутреннем рынке

##О торговле в выходные дни
В выходные и нерабочие дни, когда торги на биржах не проводятся, в TINKOFF INVEST API есть возможность совершать операции.
Заключать сделки возможно только по [ограниченному списку инструментов](/investAPI/faq_instruments/#_20).
Торговля по выходным имеет ряд [особенностей](https://www.tinkoff.ru/finance/blog/weekend-trading/).


## Котировки и рыночные данные

Так как торговля осуществляется на внутреннем рынке, [торговый статус](/investAPI/marketdata/#gettradingstatus) инструмента будет DEALER_NORMAL_TRADING.
Стакан можно получить [обычным](/investAPI/marketdata/#getorderbook) методом.

###Торговый статус инструмента

Следует различать торговый статус инструмента на бирже и на внутреннем рынке. Возможность торговать инструментом на бирже в API имеет
больший приоритет, чем торговля внутри брокера. Например, если на бирже торговый статус инструмента NORMAL_TRADING
и на внутреннем рынке статус DEALER_NORMAL_TRADING, то в ответе методов будет возвращаться 
SECURITY_TRADING_STATUS_NORMAL_TRADING, при этом изменение внутреннего статуса не будет транслироваться в стримы.

Изменение биржевого статуса всегда передается в стрим. Если после изменения биржевого статуса торги на бирже не доступны,
а внутренний рынок открыт для торговли, то после биржевого статуса в стрим будет продублирован торговый статус
внутреннего рынка. В таблице приведены некоторые ситуации и поведение API:

|     Ситуация(в динамике)                  | Торговый статус инструмента | Сообщения в стриме                                   |
|:------------------------------------------|:----------------------------|:-----------------------------------------------------|
|Открытие торгов на внутреннем рынке        |   DEALER_NORMAL_TRADING     |             DEALER_NORMAL_TRADING                    |
|Остановка торгов на внутреннем рынке       |   DEALER_BREAK_IN_TRADING   |             DEALER_BREAK_IN_TRADING                  |
|Открытие торгов на бирже                   |          NORMAL_TRADING     |               NORMAL_TRADING                         |
|Открытие торгов на внутреннем рынке        |          NORMAL_TRADING     |                                                      |
|Остановка торгов на бирже                  |   DEALER_NORMAL_TRADING     |сначала BREAK_IN_TRADING, следом DEALER_NORMAL_TRADING|
|Возобновление торгов на бирже              |          NORMAL_TRADING     |               NORMAL_TRADING                         |
|Остановка торгов на внутреннем рынке       |          NORMAL_TRADING     |                                                      |


### Свечи

[Свечи](/investAPI/marketdata/#getcandles) за выходные дни сейчас не доступны в API.

## Выставление заявок

В выходные дни выставление заявок возможно с некоторыми ограничениями. Доступные [типы заявок](/investAPI/orders/#ordertype) приведены в таблице:

|Тип заявки|Доступность торгов|
|---|---|
Лимитная|Доступно для выставления, за исключением [алгоритма исполнения](/investAPI/orders/#timeinforcetype) FILL_OR_KILL|
Рыночная|Не доступно|
Лучшая цена|Доступно для выставления|

[Отмена](/investAPI/orders/#cancelorder), [cтатус](/investAPI/orders/#getorderstate) и [изменение](/investAPI/orders/#replaceorder) выставленной заявки работают как обычно.

### Получение сделок

Сделки, совершенные в выходные, доступны в [стриме](/investAPI/orders/#tradesstream).