#Загрузка исторических котировок

TINKOFF INVEST API предоставляет своим пользователям возможность получения исторических рыночных данных по
инструментам. Для загрузки истории котировок можно воспользоваться unary-методом 
[GetCandles](#getcandles) [сервиса котировок](/investAPI/head-marketdata). 

Обратите внимание, что дата начала истории по одному и тому же инструменту может отличаться на 
разных интервалах свечей. Также глубина исторических данных может быть разной для разных инструментов.  
Связано это с особенностями получения исторических данных в [Тинькофф Инвестициях](https://www.tinkoff.ru/invest/).

С целью сокращения нагрузки на инфраструктуру системы в TINKOFF INVEST API имеется ограничение на 
максимальную длину запрашиваемого интервала. Ограничение зависит от интервала свечи: 

| Интервал свечи | Допустимый период      |
| :------------- | :-------------------- |
| 1 минута       | от 1 минут до 1 дня   |
| 2 минуты       | от 2 минут до 1 дня   |
| 3 минуты       | от 3 минут до 1 дня   |
| 5 минут        | от 5 минут до 1 дня   |
| 10 минут        | от 10 минут до 1 дня   |
| 15 минут       | от 15 минут до 1 дня  |
| 30 минут       | от 30 минут до 2 дней  |
| 1 час          | от 1 часа до 1 недели |
| 2 часа        | от 2 часов до 1 месяца    |
| 4 часа         | от 4 часов до 1 месяца    |
| 1 день         | от 1 дня до 1 года    |
| 1 неделя         | от 1 недели до 2 лет   |
| 1 месяц         | от 1 месяца до 10 лет    |

Для получения информации о дате начала истории добавлены параметры `first_1min_candle_date` и `first_1day_candle_date` в методах сервиса инструментов.

Так же для получения исторических данных за год можно воспользоваться информацией со страницы [GetHistory](/investAPI/get_history). 
Архивы с историческими данными можно получить как за один инструмент, так и по списку инструментов, воспользовавшись специально подготовленным скриптом.
